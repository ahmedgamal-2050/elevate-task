<div class="mb-4">
  <a
    [routerLink]="[
      appRoutes.DASHBOARD.ISSUE.ROOT,
      appRoutes.DASHBOARD.ISSUE.LIST
    ]"
    class="inline-flex items-center text-sm text-blue-700 hover:underline"
  >
    ‚Üê Back to issues
  </a>
</div>

@if (loading()) {
<div class="flex items-center gap-2 text-gray-600">
  <svg
    class="h-5 w-5 animate-spin"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
  >
    <circle class="opacity-25" cx="12" cy="12" r="10" stroke-width="4"></circle>
    <path class="opacity-75" d="M4 12a8 8 0 018-8" stroke-width="4"></path>
  </svg>

  <span>Loading...</span>
</div>
} @else { @if (error()) {
<div
  class="mb-4 rounded-md border border-red-200 bg-red-50 p-3 text-sm text-red-700"
>
  {{ error() }}
  <button
    (click)="loadData()"
    class="ml-3 inline-flex items-center rounded-md bg-red-600 px-2.5 py-1.5 text-xs font-medium text-white hover:bg-red-700"
  >
    Retry
  </button>
</div>
} @else { @if (issue()) {
<article class="mb-6 rounded-md border border-gray-200 bg-white p-4">
  <h1 class="text-xl font-semibold text-gray-900">{{ issue().title }}</h1>
  <p class="mt-2 text-gray-700">{{ issue().body }}</p>
</article>

<section>
  <h2 class="mb-3 text-lg font-medium text-gray-900">
    Comments ({{ comments().length }})
  </h2>

  <ul class="space-y-3">
    @for (comment of comments(); track comment.id) {
    <app-issue-comments [comment]="comment" />
    }
  </ul>
</section>
} } }
